#First HW

Для проверки скрипта создайте файл с расширением .sh и загрузите в него код скрипта.( create_user.sh )

Перейдите в директорию, в которой находится файл скрипта через терминал.

Выполните команду chmod +x create_user.sh для того, чтобы предоставить ему права на исполнение.

Выполните команду sudo ./creator_user.sh

Скрипт может запросить путь до директории.

Скрипт завершил свою работу.

Для проверки выполнения скрипта:

Убедитесь, что создалась директория при помощи команды ls /

Убедитесь, что выданы права доступа ls -l /... (имя юзера).

#Second HW

Некоторое описание того, что происходит в коде:

hosts: remote_server - удалённый сервер для выполнения задач.

ssh_key - SSH ключ для авторизации юзера.

Функция lookup - нужна для чтения файла с ключом.

Create user - создаёт пользователя с заданным именем.

Add SSH key for user - добавляет SSH ключ для авторизации юзера.

Disable password authentication - отключает авторизацию с помощью пароля.

Restart SSH - перезапуск службы SSH.

Чтобы запуск прошёл успешно проверьте:

  1. (inventory) с указанием удаленного сервера remote_server.
  2. Есть приватный SSH-ключ.
  3. Запустите при помощи - ansible-playbook -i inventory.ini playbook.yml

#Third HW (Бонусное задание)

  1. Создайте каталог роли и вложенные каталоги, используя файл HW3 и команду mkdir -p ansible-role-user-setup/{tasks,vars,defaults,meta,molecule/default} cd ansible-role-user-setup
  2. Создайте оставшиеся файлы при помощи команды "touch". Её нужно применить следующим образом touch tasks/main.yml . Ту же процедуру с оставшимися файлами .yml .
  3. Инициализуруйте Molecule следующей командой molecule init scenario --role-name ansible-role-user-setup --driver-name docker molecule test
  4. В итоге получим конфигурацию для Ansible.
